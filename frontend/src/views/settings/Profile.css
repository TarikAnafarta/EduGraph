*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#f8f9fa}
.navbar{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 10px rgba(0,0,0,.1)}
.navbar h1{font-size:1.5rem;cursor:pointer}
.navbar .user-info{display:flex;align-items:center;gap:1rem}
.container{max-width:1200px;margin:2rem auto;padding:0 1rem}
.profile-card{background:#fff;border-radius:15px;padding:2rem;box-shadow:0 2px 10px rgba(0,0,0,.1);margin-bottom:2rem}
.profile-header{display:flex;align-items:center;gap:2rem;padding-bottom:2rem;border-bottom:2px solid #f0f0f0;margin-bottom:2rem}
.profile-avatar{width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;align-items:center;justify-content:center;font-size:2.5rem;color:#fff;font-weight:bold;position:relative;cursor:default;overflow:hidden;transition:all .3s ease}
.profile-avatar img{width:100%;height:100%;object-fit:cover;object-position:center;border-radius:50%;display:block}
.avatar-overlay{display:none!important}
.avatar-wrapper{position:relative;display:inline-block}
.avatar-camera-btn{position:absolute;left:-10px;bottom:-10px;width:40px;height:40px;border-radius:50%;background:#fff;border:2px solid #fff;box-shadow:0 6px 18px rgba(0,0,0,.15);display:grid;place-items:center;cursor:pointer;padding:0;z-index:2}
.avatar-camera-btn:hover{background:#f3f4f6}
.avatar-camera-btn svg{width:18px;height:18px;color:#4b5563}
.profile-info h2{color:#333;margin-bottom:.5rem}
.profile-info p{color:#666}
.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}
.info-item{padding:1rem;background:#f8f9fa;border-radius:10px}
.info-item label{display:block;color:#666;font-size:.9rem;margin-bottom:.5rem;font-weight:500}
.info-item .value{color:#333;font-size:1.1rem;font-weight:600}
.edit-mode input,.edit-mode select{width:100%;padding:.5rem;border:2px solid #667eea;border-radius:5px;font-size:1rem;color:#333;background:#fff}
.edit-mode input:focus,.edit-mode select:focus{outline:none;border-color:#764ba2}
.action-buttons{display:flex;gap:1rem;margin-top:2rem}
.btn{padding:.75rem 1.5rem;border:none;border-radius:8px;cursor:pointer;font-size:1rem;font-weight:600;transition:all .3s ease}
.btn-primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(102,126,234,.4)}
.btn-secondary{background:#6c757d;color:#fff}
.btn-secondary:hover{background:#5a6268}
.btn-success{background:#28a745;color:#fff}
.btn-success:hover{background:#218838}
.btn:disabled{opacity:.6;cursor:not-allowed;transform:none}
.alert{padding:1rem;border-radius:8px;margin-bottom:1rem;display:none}
.alert.success{background:#d4edda;color:#155724;border-left:4px solid #28a745}
.alert.error{background:#f8d7da;color:#721c24;border-left:4px solid #dc3545}
.read-only{opacity:.8}
.back-btn{display:inline-block;background:rgba(255,255,255,.2);color:#fff;padding:.5rem 1rem;border-radius:20px;text-decoration:none;transition:background .3s ease}
.back-btn:hover{background:rgba(255,255,255,.3)}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:1000;padding:1rem}
.modal-overlay.open{display:flex}
.modal{width:100%;max-width:620px;background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.2);overflow:hidden}
.modal-header{padding:1rem 1.25rem;font-weight:700;font-size:1.1rem;color:#333}
.modal-body{padding:0 1.25rem 1rem}
.crop-frame{position:relative;margin:0 auto;background:#2b2f36;border-radius:12px;width:min(92vw,560px);height:var(--h,260px);overflow:hidden;border:1px solid rgba(255,255,255,.08)}
#crop-image{position:absolute;top:50%;left:50%;will-change:transform;user-select:none;-webkit-user-drag:none;pointer-events:auto}
.circle-mask{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:var(--d,240px);height:var(--d,240px);border-radius:50%;box-shadow:0 0 0 2000px rgba(0,0,0,.55);border:2px dashed #7cd992;pointer-events:none}
.controls{display:grid;gap:.75rem;margin-top:1rem}
.range-row{display:flex;align-items:center;gap:.75rem}
.range-row label{width:90px;color:#555;font-size:.9rem}
.range-row input[type=range]{flex:1}
.modal-actions{display:flex;gap:.5rem;justify-content:flex-end;margin-top:.5rem;padding:0 0 .75rem}
.btn-light{background:#f1f3f5;color:#333}
.btn-green{background:#28a745;color:#fff}
.btn-light,.btn-green{border:none;padding:.6rem 1rem;border-radius:8px;font-weight:600;cursor:pointer}
.btn-light:hover{background:#e9ecef}
.btn-green:hover{background:#218838}
.btn-upload{display:inline-flex;align-items:center;gap:.5rem;background:#e8f7ec;color:#257942;border:1px solid #c6efce}
.btn-upload:hover{background:#dcf3e3}
@media (max-width:520px){.circle-mask{width:var(--d,200px);height:var(--d,200px)}.modal{max-width:96vw}}
